!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[SearchBox]",["imageClientApi","react","reactDOM"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[SearchBox]"]=t(require("@wix/image-kit"),require("react"),require("react-dom")):e["rb_wixui.thunderbolt[SearchBox]"]=t(e.__imageClientApi__,e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,(function(e,t,n){return function(){var o={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},95561:function(e){"use strict";e.exports=n},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return function(){"use strict";r.r(l),r.d(l,{components:function(){return xt}});var e=r(448),t=r.n(e),n=r(5329),o=r.n(n);function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var i=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o};const s=13,u=27,c=38,d=40;function m(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const p=m(32),g=m(s),h=e=>{g(e),p(e)},f=(m(u),"has-custom-focus"),v=()=>"undefined"!=typeof window,b=e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{});const y="wixui-",E=(e,...t)=>{const n=[];return e&&n.push(`${y}${e}`),t.forEach((e=>{e&&(n.push(`${y}${e}`),n.push(e))})),n.join(" ")};var S={root:"search-bar",icon:"search-bar__icon",input:"search-bar__input"},C="HlRz5e",w=r(42662);const{STATIC_MEDIA_URL:x}=w,I=({fittingType:e,src:t,target:n,options:o})=>{const a=w.getPlaceholder(e,t,n,{...o,autoEncode:!0});return a?.uri&&!/^[a-z]+:/.test(a.uri)&&(a.uri=`${x}${a.uri}`),a},k=/^[a-z]+:/;var L=e=>{const{id:t,containerId:o,uri:a,alt:r,name:l="",role:i,width:s,height:u,displayMode:c,devicePixelRatio:d,quality:m,alignType:p,bgEffectName:g="",focalPoint:h,upscaleMethod:f,className:v="",crop:b,imageStyles:y={},targetWidth:E,targetHeight:S,targetScale:w,onLoad:L=(()=>{}),onError:M=(()=>{}),shouldUseLQIP:N,containerWidth:O,containerHeight:V,getPlaceholder:R,isInFirstFold:T,placeholderTransition:P,socialAttrs:_,isSEOBot:D,skipMeasure:F,lazyLoadImgExperimentOpen:A,hasAnimation:B,allowWEBPTransform:j}=e,q=n.useRef(null);let H="";const K="blur"===P,W=n.useRef(null);if(!W.current)if(R||N||T||D){const e={upscaleMethod:f,...m||{},shouldLoadHQImage:T,isSEOBot:D,hasAnimation:B,allowWEBPTransform:j};W.current=(R||I)({fittingType:c,src:{id:a,width:s,height:u,crop:b,name:l,focalPoint:h},target:{width:O,height:V,alignment:p,htmlTag:"img"},options:e}),H=!W.current.transformed||T||D?"":"true"}else W.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const U=!D&&(R||N)&&!T&&W.current.transformed,X=n.useMemo((()=>JSON.stringify({containerId:o,...o&&{containerId:o},...p&&{alignType:p},...F&&{skipMeasure:!0},displayMode:c,...O&&{targetWidth:O},...V&&{targetHeight:V},...E&&{targetWidth:E},...S&&{targetHeight:S},...w&&{targetScale:w},isLQIP:U,isSEOBot:D,lqipTransition:P,imageData:{width:s,height:u,uri:a,name:l,displayMode:c,hasAnimation:B,...m&&{quality:m},...d&&{devicePixelRatio:d},...h&&{focalPoint:h},...b&&{crop:b},...f&&{upscaleMethod:f}}})),[o,p,F,c,V,O,E,S,w,U,D,P,s,u,a,l,m,d,h,b,f,B]),Z=W.current,z=Z?.uri,$=Z?.srcset,Q=Z.css?.img,J=`${C} ${v}`;n.useEffect((()=>{const e=q.current;L&&e?.currentSrc&&e?.complete&&L({target:q.current})}),[]);const Y=Z&&!Z?.transformed?`max(${s}px, 100%)`:E?`${E}px`:null;return n.createElement("wow-image",{id:t,class:J,"data-image-info":X,"data-bg-effect-name":g,"data-has-ssr-src":H,"data-animate-blur":!D&&U&&K?"":void 0,style:Y?{"--wix-img-max-width":Y}:{}},n.createElement("img",{src:z,ref:q,alt:r||"",role:i,style:{...Q,...y},onLoad:L,onError:M,...O&&{width:O},...V&&{height:V},..._,...T?{srcSet:$?.dpr?.map((e=>k.test(e)?e:`${x}${e}`)).join(", "),fetchpriority:"high"}:A?{loading:"lazy"}:{}}))};let M=function(e){return e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Empty=2]="Empty",e[e.Hidden=3]="Hidden",e}({});function N(e){const[t,o]=(0,n.useState)((a=e.image)?a.name?v()?M.Loading:M.Loaded:M.Empty:M.Hidden);var a;return{onError:()=>o(M.Empty),onLoad:()=>o(M.Loaded),thumbnailState:t}}var O="U603xX",V="FedNkl",R="Z3eRZ6",T="UXNCo3",P="D_fVyl",_="CA8K4D",D="zQjJyB";const F=e=>{var t,n,a;let{action:r,id:l,item:s}=e;const{thumbnailState:u,onError:c,onLoad:d}=N(s),m="fit"===(null==(t=s.image)?void 0:t.resizeMode)?"fit":"fill";return o().createElement("div",{className:O,title:s.title,onClick:()=>r()},u!==M.Hidden&&o().createElement("div",{className:i(R,{[T]:u===M.Empty,[P]:u===M.Loading}),"data-testid":"thumbnail"},u!==M.Empty&&o().createElement(L,{alt:s.title,containerId:l,displayMode:m,height:(null==(n=s.image)?void 0:n.height)||55,id:"thumb-"+l,name:s.title,onError:c,onLoad:d,uri:s.image.name,width:(null==(a=s.image)?void 0:a.width)||73})),o().createElement("div",{className:V},o().createElement("span",{className:_,dangerouslySetInnerHTML:{__html:s.title}}),s.description&&o().createElement("p",{className:D,dangerouslySetInnerHTML:{__html:s.description}})))};var A="u6Qhf2",B="Nn5HXB";const j=e=>{let{item:t}=e;return n.createElement("div",{className:A},n.createElement("div",{className:B},n.createElement("span",null,t.title)))};var q="k6cep8",H="Zg1VXg",K="q0F5lM";const W=e=>{let{scrollIntoRef:t,suggestions:o}=e;return n.createElement("div",{className:i(q,{[H]:!(null!=o&&o.footer)}),role:"listbox"},null==o?void 0:o.items.map((e=>{let{action:o,id:a,isActive:r,item:l,testId:s,type:u}=e;return n.createElement("div",{"aria-selected":r,className:i({[K]:!!l.url}),"data-testid":s,key:a,ref:r?t:void 0,role:"option"},"item"===u?n.createElement(F,{action:o,id:a,item:l}):n.createElement(j,{action:o,id:a,item:l}))})))};var U;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)}var Z=function(e){return n.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",viewBox:"5 5 14 14"},e),U||(U=n.createElement("path",{fill:"currentColor",d:"m15.683 14.6 3.265 3.265a.2.2 0 0 1 0 .282l-.8.801a.2.2 0 0 1-.283 0l-3.266-3.265a5.961 5.961 0 1 1 1.084-1.084zm-4.727 1.233a4.877 4.877 0 1 0 0-9.754 4.877 4.877 0 0 0 0 9.754z"})))};const z="search-suggestion-item-";var $="GWiB9A",Q="q6kVwv";const J=e=>{let{children:t,onClick:o}=e;return n.createElement("div",{className:$},n.createElement("button",{className:Q,role:"link","data-testid":"suggestions-show-all-button",onClick:o},t))};var Y="g3as8r",G="TrbL5O",ee="h0H1OP";const te=e=>{let{id:t,onSuggestionsFooterClick:o,query:a,translations:r,useModalSuggestions:l}=e;const i=r.footerSearchAllText+' "'+a+'"',s=()=>{null==o||o({type:"suggestionsFooterClick",compId:t})};return l?n.createElement(J,{onClick:s},i):n.createElement("button",{className:Y,role:"link","data-testid":"footer-link",onClick:s},n.createElement(Z,{className:G}),n.createElement("span",{className:ee},i))};var ne="_xpJkc",oe="JK71Yc",ae="oRg3Ie",re="UaSQpI";const le=e=>{(e=>{let{callback:t,ref:o,elem:a}=e;(0,n.useEffect)((()=>{const e=new ResizeObserver(t);return null!=o&&o.current&&e.observe(o.current),a&&e.observe(a),()=>{e.disconnect()}}),[o,a,t])})({callback:(0,n.useCallback)((()=>{var t,n;const o=null==e||null==(t=e.current)?void 0:t.clientHeight;null==e||null==(n=e.current)||n.style.setProperty("--component-height",o+"px")}),[e]),ref:e})},ie=e=>{let{id:t,children:o,parentRef:a,isSuggestionsShown:r,onSuggestionsFooterClick:l,query:s,scrollIntoRef:u,suggestions:c,translations:d,useModalSuggestions:m}=e;return le(a),n.createElement("div",{className:i(ne,{[oe]:r})},n.createElement("div",{className:ae},o),r&&n.createElement("div",{className:re,"aria-hidden":"true"},n.createElement(W,{scrollIntoRef:u,suggestions:c}),(null==c?void 0:c.footer)&&n.createElement(te,{id:t,onSuggestionsFooterClick:l,query:s,translations:d,useModalSuggestions:m})))};function se(e,t){const{id:o,value:a,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:i}=e,[s,u]=n.useState(-1),c=n.useRef(null);n.useEffect((()=>{c.current&&(null==c.current.scrollIntoView||c.current.scrollIntoView(!1))}),[s]),n.useEffect((()=>{t||u(-1)}),[t]),n.useEffect((()=>{u(-1)}),[a]);const d=n.useMemo((()=>function(e,t){let{id:n,suggestions:o,onSuggestionGroupSelect:a,onSuggestionSelect:r}=e;return null!=o&&o.items?{...o,items:o.items.map(((e,o)=>{const l=e.type,i=[z,o],s=i.join("");return"image"in e&&e.image&&i.push(e.image.name),{action:()=>{const t={compId:n,syntheticEvent:e};"group"===l?null==a||a({type:"suggestionGroupSelect",...t}):null==r||r({type:"suggestionSelect",...t})},id:i.join("_"),isActive:o===t,item:{...e,url:"group"===l?void 0:e.url},testId:s,type:l}}))}:{...o,items:[]}}({id:o,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:i},s)),[s,o,r,l,i]),m=d.items.filter((e=>e.item.url)),p=m.length,g=m.findIndex((e=>{var t;return e.id===(null==(t=d.items[s])?void 0:t.id)}));return{moveDown:()=>{const e=g<p-1?g+1:0;u(d.items.findIndex((t=>{var n;return t.id===(null==(n=m[e])?void 0:n.id)})))},moveUp:()=>{const e=g>0?g-1:p-1;u(d.items.findIndex((t=>{var n;return t.id===(null==(n=m[e])?void 0:n.id)})))},navigate:()=>{try{var e;null==d||null==(e=d.items)||e[s].action()}catch(e){console.error("Error while navigating",e)}},scrollIntoRef:c,activeOptionIndex:s,suggestionsWithNavigation:d}}const ue=function(e,t,o,a){void 0===a&&(a=!0),(0,n.useEffect)((()=>{const n=e=>{const n=e.target;if(n){for(const e of t){var a;if(e instanceof HTMLElement){if(e&&e.contains(n))return}else if(null!=e&&null!=(a=e.current)&&a.contains(n))return}o()}};return document.addEventListener(e,n,a),()=>{document.removeEventListener(e,n,a)}}),[...t,o,e])};var ce,de=r(95561);function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},me.apply(this,arguments)}var pe=function(e){return n.createElement("svg",me({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),ce||(ce=n.createElement("path",{d:"m15.071 5 .707.707-6.364 6.363 6.364 6.365-.707.707L8 12.071 15.071 5Z",fill:"currentColor"})))},ge="XeX7vS",he="r_WbdF",fe="ZxQq8q";const ve=e=>{let{direction:t,onClick:o}=e;return n.createElement("div",{className:ge,"data-testid":"modalSearchSuggestionsCloseButton",onClick:o},n.createElement(pe,{className:i(he,{[fe]:"rtl"===t})}))};var be="fuYJV8",ye="q4fpr5",Ee="WRjDFM";const Se=()=>n.createElement("div",{className:be,"data-testid":"suggestions-loader"},n.createElement("svg",{viewBox:"0 0 50 50",className:ye},n.createElement("circle",{className:Ee,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"2"})));var Ce="RlO8U_",we="Q2YYMa",xe="oEUJj7",Ie="TaFPqR";const ke=e=>{let{children:t,clearValue:o,closeSuggestions:a,direction:r,id:l,inputRef:i,onSuggestionsFooterClick:s,query:u,scrollIntoRef:c,suggestions:d,suggestionsLoading:m,translations:p,scopedClassName:g}=e;const[h,f]=n.useState();n.useEffect((()=>{const e=document.createElement("div");return document.body.appendChild(e),g&&e.classList.add(g),f(e),()=>{document.body.removeChild(e)}}),[g]);return n.useEffect((()=>{setTimeout((()=>{var e;null==(e=i.current)||e.focus()}),400)}),[]),h?(0,de.createPortal)(n.createElement("div",{dir:r,className:Ce,"data-testid":"modalSearchSuggestions",role:"dialog"},n.createElement("div",{className:we},n.createElement(ve,{direction:r,onClick:()=>{a(),o()}}),n.createElement("div",{className:xe},t)),n.createElement("div",{className:Ie,onScroll:()=>{var e;null==(e=i.current)||e.blur()}},n.createElement(W,{scrollIntoRef:c,suggestions:d}),(null==d?void 0:d.footer)&&n.createElement(te,{id:l,onSuggestionsFooterClick:s,query:u,translations:p,useModalSuggestions:!0}),m&&n.createElement(Se,null))),h):null},Le=({size:e,...t})=>n.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:e||"20",height:e||"20",...t},n.createElement("path",{fillRule:"evenodd",d:"M9.5,3 C13.084,3 16,5.916 16,9.5 C16,13.084 13.084,16 9.5,16 C5.916,16 3,13.084 3,9.5 C3,5.916 5.916,3 9.5,3 Z M9.5,4 C6.467,4 4,6.467 4,9.5 C4,12.533 6.467,15 9.5,15 C12.533,15 15,12.533 15,9.5 C15,6.467 12.533,4 9.5,4 Z M10,11 L10,12 L9,12 L9,11 L10,11 Z M10,7 L10,10 L9,10 L9,7 L10,7 Z"}));Le.displayName="ErrorSmall";var Me=Le,Ne="TLWrjM",Oe="GIPQqH",Ve="JNgJbf";const Re=e=>{let{errorMessage:t,errorMessageType:o,shouldShowValidityIndication:a,translations:r,dataHook:l,componentViewMode:i}=e;const s="editor"===i?(null==r?void 0:r.errorMessage)||"Error text displays here.":t;return"inline"===o&&a&&s?n.createElement("div",{"data-hook":l||"inline-error-message",className:Ne},n.createElement(Me,{className:Oe}),n.createElement("span",{className:Ve},s)):null};var Te={root:"text-input",inputEl:"text-input__input",inputLabel:"text-input__label"},Pe={input:"KvoMHf",hideNumberSpinner:"ErucfC",AppsTextInputSkin:"MpKiNN",appsTextInputSkin:"MpKiNN",inputWrapper:"pUnTVX",prefix:"eXvLsN","validation-indication":"LyB02C",validationIndication:"LyB02C",label:"wPeA6j",hasLabel:"qzvPmW","required-indication":"lPl_oN",requiredIndication:"lPl_oN",ResponsiveTextInputSkin:"ZXdXNL",responsiveTextInputSkin:"ZXdXNL",keepInputHeight:"Bedjyp"};const _e="Please enter a phone number with {digits} digits",De="Please enter between 4 to 17 digits. You can include hyphens (-) or start with a (+), e.g., 555-123-4567 or +(222)987654321",Fe="Please enter between 4 to 17 digits. You can include dividers (-), e.g., 555-123-4567.",Ae=function(e,t,n){void 0===n&&(n=!0);return Array.from(t).reduce(((e,t,n)=>"-"===t?[...e,n]:e),[]).filter(((t,o)=>n?t<=e.length:t<=e.length+o))},Be=(e,t)=>t.replace("{digits}",""+(e?e.replace(/-/g,"").length:0)),je=()=>{},qe=(e,o)=>{var a;const{skin:r,name:l,id:s,className:u="",customClassNames:c=[],dataTestId:d,value:m,inputType:p="text",label:g,placeholder:h,readOnly:v,required:y,isDisabled:S,pattern:C,autoComplete:w,autoComplete_:x,maxLength:I,min:k,max:L,step:M,numberSpinnerHidden:N,shouldShowValidityIndication:O,isValid:V,autoFocus:R,prefix:T,phoneFormat:P="",errorMessageType:_="tooltip",validateValue:D=je,setValidityIndication:F=je,onBlur:A=je,onFocus:B=je,onKeyPress:j=je,onInput:q=je,onValueChange:H=je,onChange:K=je,onClick:W=je,onDblClick:U=je,onMouseEnter:X=je,onMouseLeave:Z=je,ariaAttributes:z,contentRef:$,translations:Q,componentViewMode:J,keepInputHeightEnabled:Y,textInputAutoFillFixEnabled:G}=e,ee=n.useRef(null);n.useImperativeHandle(o,(()=>({focus:()=>{var e;null==(e=ee.current)||e.focus()},blur:()=>{var e;null==(e=ee.current)||e.blur()},setCustomValidity:t=>{var n,o;"message"===t.type?null==(n=ee.current)||n.setCustomValidity(t.message):null==(o=ee.current)||o.setCustomValidity(((e,t)=>{let{translations:n,phoneFormat:o}=t;switch(e.key){case"PHONE_FORMAT_LENGTH_VALIDATION_ERROR":return Be(o,(null==n?void 0:n.phoneFormatLengthValidationError)||_e);case"PHONE_FORMAT_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatDefaultValidationError)||De;case"PHONE_FORMAT_COMPLEX_PHONE_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatComplexPhoneDefaultValidationError)||Fe;default:return e.key}})(t,{translations:e.translations,phoneFormat:e.phoneFormat}))},getValidationMessage:()=>{var e;return null==(e=ee.current)?void 0:e.validationMessage}})));const[te,ne]=n.useState(),oe=n.useMemo((()=>"tel"===p&&P?((e,t)=>{const n=Ae(e,t,!1),o=Array.from(e);return n.forEach((e=>{e<o.length&&o.splice(e,0," ")})),o.join("")})(m,P):m),[m,P,p]),ae=e=>{let{shouldSetValidityIndication:t,shouldCallOnInput:n}=e;return e=>{const{value:o}=e.target;let a=o;if(P){const e=o.length<oe.length;if(a=((e,t,n)=>{const o=Ae(e,t);return o.reduce(((t,a,r)=>{if(" "===e[a])t.splice(a-r,1);else if(" "!==e[a+1]||n)" "===e[a-1]&&n&&(e.split(" ").length-1<o.length?t.splice(a-r,1):t.splice(a-r-1,1));else{const e=1-r;t.splice(a+e,1)}return t}),Array.from(e)).join("")})(o,P,e),a.match(/[^\d]/))return}ne(!0),H(a),D(),(e=>{G&&te&&!ue()&&K({...e,type:"change"})})(e),t&&F(!1),n&&q(e)}},re=n.useRef({value:""});n.useEffect((()=>{re.current.value=m}),[m]),n.useEffect((()=>{var e;re.current.value=(null==(e=ee.current)?void 0:e.value)||"",setTimeout((()=>{ae({shouldSetValidityIndication:!0,shouldCallOnInput:!1})({target:{value:re.current.value}})}),0)}),[]);const le=i(Pe[r],u,E(Te.root,...c),{[Pe.hasLabel]:!!g,[Pe.requiredIndication]:y,[Pe.validationIndication]:!!O},Y?Pe.keepInputHeight:null),{"aria-label":ie,...se}=(({pressed:e,expanded:t,haspopup:n,label:o,live:a,relevant:r,current:l,owns:i,controls:s,roleDescription:u,hidden:c,disabled:d,describedBy:m,labelledBy:p,errorMessage:g,atomic:h,role:f,busy:v,...b}={})=>{const y=b.tabIndex??b.tabindex,E={};return o&&(E["aria-label"]=o),a&&(E["aria-live"]=a),l&&(E["aria-current"]=l),e&&(E["aria-pressed"]=e),"boolean"==typeof c&&(E["aria-hidden"]=c),"boolean"==typeof t&&(E["aria-expanded"]=t),"boolean"==typeof d&&(E["aria-disabled"]=d),"boolean"==typeof h&&(E["aria-atomic"]=h),"boolean"==typeof v&&(E["aria-busy"]=v),"string"==typeof r&&(E["aria-relevant"]=r),"string"==typeof i&&(E["aria-owns"]=i),"string"==typeof s&&(E["aria-controls"]=s),"string"==typeof u&&(E["aria-roledescription"]=u),n&&(E["aria-haspopup"]=n),"number"==typeof y&&(E.tabIndex=y),f&&(E.role=f),m&&(E["aria-describedby"]=m),p&&(E["aria-labelledby"]=p),g&&(E["aria-errormessage"]=g),E})(z),ue=()=>!!ee.current&&ee.current===document.activeElement;return n.createElement("div",t()({id:s},b(e),{ref:$},!Y&&{className:le},{"data-testid":d,onClick:e=>{S||W(e)},onDoubleClick:e=>{S||U(e)},onMouseEnter:e=>{S||X(e)},onMouseLeave:e=>{S||Z(e)}}),n.createElement(...Y?["div",{className:le}]:[n.Fragment,{}],n.createElement(n.Fragment,null,!!g&&n.createElement("label",{htmlFor:"input_"+s,className:i(Pe.label,E(Te.inputLabel))},g),n.createElement("div",{className:Pe.inputWrapper},T&&n.createElement("div",{className:Pe.prefix},T),n.createElement("input",t()({name:l,ref:ee,id:"input_"+s,className:i(Pe.input,f,E(Te.inputEl),{[Pe.hideNumberSpinner]:N}),type:p,value:oe,onFocus:B,onKeyDown:j,onChange:ae({shouldSetValidityIndication:!0,shouldCallOnInput:!0}),onBlur:e=>{A(e),te&&K({...e,type:"change"}),ne(!1),F(!0)},placeholder:h,readOnly:v,required:y,"aria-required":y,"aria-invalid":O?!V:void 0,pattern:C,maxLength:(()=>{let e=null===I?void 0:I;return P&&(e=P.length),e})(),minLength:P?P.length:void 0,disabled:S,autoComplete:w?"on":x||"off",step:null===M?void 0:M,min:null===k?void 0:k,max:null===L?void 0:L,autoFocus:R,"aria-label":ie||g?ie:h},se))))),n.createElement(Re,{errorMessageType:_,errorMessage:null==(a=ee.current)?void 0:a.validationMessage,shouldShowValidityIndication:O,translations:Q,componentViewMode:J}))};var He=n.forwardRef(qe);const Ke={left:"onSwipeLeft",right:"onSwipeRight",up:"onSwipeUp",down:"onSwipeDown"},We=e=>{if(e.touches&&e.touches.length){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}},Ue={touched:!0,moved:!1,deltaCoords:{x:0,y:0}},Xe=(e,t,n)=>()=>{let o;const a=e=>{o={...Ue,numOfTouches:e.touches.length,startCoords:We(e),startTime:Date.now(),evObj:{...e}}},r=e=>{if(!o)return;const t=We(e);if(t){o.startCoords||(o.startCoords=t);const e=o.startCoords.x-t.x,n=o.startCoords.y-t.y;o.moved=!0,o.deltaCoords={x:e,y:n}}},l=()=>{if(o)if(o.endTime=Date.now(),"onTap"===e&&(e=>e.touched&&!e.moved&&1===e.numOfTouches)(o))t(o.evObj);else if((e=>e.moved&&1===e.numOfTouches&&e.endTime-e.startTime<500&&(Math.abs(e.deltaCoords.x)>100||Math.abs(e.deltaCoords.y)>60))(o)){const n=((e,t)=>{let n;return n=Math.abs(e)>Math.abs(t)?e>0?"left":"right":t>0?"up":"down",n})(o.deltaCoords.x,o.deltaCoords.y);e===Ke[n]&&t(o.evObj)}};return n&&n.current&&(n.current.addEventListener("touchstart",a,{passive:!0}),n.current.addEventListener("touchmove",r,{passive:!0}),n.current.addEventListener("touchend",l,{passive:!0})),()=>{n&&n.current&&(n.current.removeEventListener("touchstart",a),n.current.removeEventListener("touchmove",r),n.current.removeEventListener("touchend",l))}};var Ze;function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ze.apply(this,arguments)}var $e=function(e){return n.createElement("svg",ze({width:8,height:9,viewBox:"0 0 8 9",xmlns:"http://www.w3.org/2000/svg"},e),Ze||(Ze=n.createElement("path",{d:"M8 1.057 7.293.35 4 3.643.707.35 0 1.057 3.293 4.35 0 7.643l.707.707L4 5.057 7.293 8.35 8 7.643 4.707 4.35 8 1.057Z",fill:"currentcolor"})))},Qe="dHwu5A";const Je=e=>{let{onClick:t,label:o}=e;return n.createElement("div",{"aria-label":o,role:"button",tabIndex:0,className:Qe,"data-testid":"clear-button",onClick:t,onKeyDown:h},n.createElement($e,null))};var Ye="nNn3mc",Ge="LIyiar",et="fkomZa",tt="LYhw1A",nt="FwtNU8";const ot={autoComplete_:"off",autoComplete:!1,required:!1,shouldShowValidityIndication:!1,skin:"ResponsiveTextInputSkin",validateValueAndShowIndication:()=>{}},at=e=>{let{autocompleteValue:a,changeValue:r,clearButtonLabel:l,clearValue:s,containerRef:u,id:c,inputRef:d,isDisabled:m,onAutocomplete:p,onBlur:g,onChange:h,onClick:f,onDblClick:v,onFocus:b,onKeyPress:y,placeholder:C,value:w,isModalSuggestionsShown:x}=e;const I=Boolean(w),k=(0,n.useCallback)((e=>{e!==w&&(r(e),null==h||h({type:"change",compId:c,previousValue:w}))}),[c,r,h,w]);(0,n.useEffect)((()=>{const e=document.activeElement;e&&e.id.includes(c)&&!x&&e.dispatchEvent(new FocusEvent("focus"))}),[]);const[L,M,N,O]=(e=>{let{autocompleteValue:t,id:o,onAutocomplete:a,onChange:r,value:l}=e;const[i,s]=(0,n.useState)(!0),u=(0,n.useMemo)((()=>{if(!t||!i)return"";const e=l.toLocaleLowerCase().trimStart();if(!e)return"";const n=t.toLocaleLowerCase();if(!n.startsWith(e)||n===e)return"";const o=t.substr(e.length);return""+l+o}),[t,l,i]),c=(0,n.useCallback)((()=>{r(u),null==a||a({type:"autocomplete",compId:o,previousValue:l})}),[o,u,r,a,l]),d=(0,n.useCallback)((e=>{if(!u)return;const{key:t,currentTarget:n}=e,{selectionStart:o,selectionEnd:a}=n;if("Tab"===t)e.preventDefault(),e.stopPropagation();else if("ArrowRight"!==t||o!==a||o!==l.length)return;c()}),[u,l,c]),m=(0,n.useCallback)((()=>{u&&c()}),[u,c]);return[u,d,e=>{const{scrollLeft:t,scrollWidth:n,clientWidth:o}=e.currentTarget;s(0===t&&n<=o)},m]})({autocompleteValue:a,id:c,onAutocomplete:p,onChange:k,value:w});var V,R,T;return V="onSwipeRight",R=O,T=u,n.useEffect(Xe(V,R,T),[V,T,R]),o().createElement("div",{className:i(Ye,{[Ge]:I})},o().createElement("div",{className:tt},L&&o().createElement(He,t()({},ot,{className:et,inputType:"text",id:"search-box-autocomplete-input-"+c,dataTestId:"search-box-autocomplete-input",isDisabled:!0,readOnly:!0,value:L})),o().createElement(He,t()({},ot,{className:i(nt,E(S.input)),inputType:"search",ariaAttributes:{label:C},id:"search-box-input-"+c,dataTestId:"search-box-input",isDisabled:m,maxLength:100,onBlur:g,onClick:f,onDblClick:v,onFocus:b,onInput:e=>{N(e)},onValueChange:k,onKeyPress:e=>{M(e),null==y||y(e)},placeholder:C,readOnly:m,ref:d,value:w,name:"q"}))),I&&o().createElement(Je,{onClick:s,label:l}))};var rt="TmqMif";const lt=()=>n.createElement("div",{className:i(rt,E(S.icon))},n.createElement(Z,null));var it="aXOBOn",st="KsMOVs",ut="ipSfdV",ct="lS0Z88";const dt=e=>{let{autocompleteValue:t,changeValue:a,clearButtonLabel:r,clearValue:l,id:s,inputRef:u,isDisabled:c,onAutocomplete:d,onBlur:m,onChange:p,onClick:g,onDblClick:h,onFocus:v,onKeyPress:b,placeholder:y,searchButtonLabel:E,value:S,isModalSuggestionsShown:C}=e;const w=(0,n.useRef)(null);return o().createElement("div",{className:it,ref:w},o().createElement("div",{className:st}),o().createElement("div",{className:ut,"data-testid":"search-icon"},o().createElement(lt,null)),o().createElement(at,{containerRef:w,clearButtonLabel:r,isDisabled:c,id:s,inputRef:u,onBlur:m,clearValue:l,onClick:g,onDblClick:h,onFocus:v,onChange:p,onKeyPress:b,onAutocomplete:d,placeholder:y,autocompleteValue:t,changeValue:a,value:S,isModalSuggestionsShown:C}),o().createElement("button",{"aria-label":E,className:i(ct,f),onClick:e=>{e.stopPropagation()},type:"submit"},o().createElement(lt,null)))};var mt="wdVIxK",pt="yu5tzD",gt="shCc15",ht="Btc0MU";const ft=e=>{let{autocompleteValue:t,changeValue:n,clearButtonLabel:a,clearValue:r,dataTestId:l,expandedDesktopSuggestions:s,handleKeyDown:u,handleSubmit:c,id:d,inputRef:m,isDisabled:p,onAutocomplete:g,onBlur:h,onChange:f,onClick:v,onDblClick:b,onFocus:y,onKeyPress:E,placeholder:S,defaultFormAction:C,value:w,isModalSuggestionsShown:x}=e;return o().createElement("form",{className:i(mt,{[ht]:!!s,[pt]:!!t}),"data-testid":l,onSubmit:c,role:"search",action:C,onClick:()=>{var e;return null==(e=m.current)?void 0:e.focus()},onKeyDown:u},o().createElement(dt,{clearButtonLabel:a,isDisabled:p,id:d,inputRef:m,onBlur:h,clearValue:r,onClick:v,onDblClick:b,onFocus:y,onChange:f,onKeyPress:E,onAutocomplete:g,placeholder:S,searchButtonLabel:S,changeValue:n,autocompleteValue:t,value:w,isModalSuggestionsShown:x}),o().createElement("input",{className:gt,type:"submit",tabIndex:-1,"aria-hidden":"true",value:S}))};var vt="QdV_oU",bt="btVOrl",yt="HRqysE";function Et(e){let{searchButtonLabel:t,onFocus:n}=e;return o().createElement("button",{"aria-label":t,className:i(yt,f),onFocus:n,onClick:e=>{e.stopPropagation()}},o().createElement(lt,null))}const St=(e,a)=>{const{autocompleteEnabled:r,changeValue:l,clearSuggestions:m,closeParentContainer:p=!1,closeSuggestions:g,direction:h,id:f,className:v,customClassNames:y=[],isDisabled:C=!1,isSuggestionsOpen:w=!1,onAutocomplete:x,onBlur:I,onChange:k,onClear:L,onClick:M,onDblClick:N,onFocus:O,onKeyPress:V,onModalSuggestionsClose:R,onModalSuggestionsOpen:T,onMouseEnter:P,onMouseLeave:_,onSubmit:D,onSuggestionsFooterClick:F,placeholder:A="",suggestions:B,suggestionsEnabled:j=!1,suggestionsLoading:q=!1,translations:H,useModalSuggestions:K,defaultFormAction:W,value:U="",layout:X,scopedClassName:Z}=e,z=r&&e.autocompleteValue||"",[$,Q]=(0,n.useState)(!1);(0,n.useImperativeHandle)(a,(()=>({focus:()=>{var e;null==(e=J.current)||e.focus()},blur:()=>{var e;null==(e=J.current)||e.blur()}})));const J=(0,n.useRef)(null),Y=(0,n.useRef)(null),G=(0,n.useRef)(null),{shouldShowSuggestions:ee,resetSuggestionsVisibility:te}=(e=>{let{isSuggestionsOpen:t,parentRef:o,suggestions:a,suggestionsEnabled:r,useModalSuggestions:l}=e;const[i,s]=(0,n.useState)(!0),u=(0,n.useCallback)((()=>{s(!0)}),[]);(0,n.useEffect)(u,[r,t,u]);const c=(0,n.useCallback)((()=>{s(!1)}),[]);return ue("focus",[o],c),ue("click",[o],c),{shouldShowSuggestions:Boolean(r&&t&&(l||i&&a)),resetSuggestionsVisibility:u}})({isSuggestionsOpen:w,parentRef:G,suggestions:B,suggestionsEnabled:j,useModalSuggestions:K});(0,n.useEffect)((()=>{if(K)return ee?null==T||T():null==R||R({closeParentContainer:p}),()=>{null==R||R({closeParentContainer:p})}}),[ee,K]);const{activeOptionIndex:ne,moveDown:oe,moveUp:ae,navigate:re,scrollIntoRef:le,suggestionsWithNavigation:ce}=se(e,ee),de=()=>{U&&(l(""),m(),null==k||k({type:"change",compId:f,previousValue:U}),null==L||L({type:"clear",compId:f,previousValue:U}))},me=Boolean(ee&&ce),pe=me&&K,ge=ce.items.filter((e=>{let{type:t}=e;return"item"===t})).length,he=ge>0?H.numberOfSuggestionsEntries.replace(/{{amount}}/g,""+ge):void 0,fe={autocompleteValue:z,changeValue:l,clearButtonLabel:H.clearButtonText,clearValue:de,handleKeyDown:e=>{if(e.keyCode===u&&(me&&!pe?g():pe?(g(),de()):de(),e.preventDefault()),ee){const t={[c]:ae,[d]:oe,[s]:-1!==ne?re:void 0}[e.keyCode];t&&(t(),e.preventDefault())}},handleSubmit:e=>{var t;e.preventDefault(),null==(t=J.current)||t.blur(),null==D||D({type:"submit",compId:f})},id:f,isDisabled:C,onAutocomplete:x,onChange:k,onClick:M,onDblClick:N,onKeyPress:V,placeholder:A,defaultFormAction:W,value:U,isModalSuggestionsShown:pe},ve="icon-only"===X;return o().createElement("div",t()({id:f},b(e),{dir:h,ref:G,className:i(bt,{[vt]:ee,"search-box-component-focus-ring-visible":$},v,E(S.root,...y)),onMouseEnter:P,onMouseLeave:_,"aria-live":"polite","aria-label":he,"data-testid":"search-box-container",tabIndex:-1}),pe&&o().createElement(ke,{id:f,closeSuggestions:g,clearValue:de,inputRef:Y,onSuggestionsFooterClick:F,query:U,scrollIntoRef:le,suggestions:ce,suggestionsLoading:q,translations:H,direction:h,scopedClassName:Z},o().createElement(ft,t()({},fe,{dataTestId:"modal-suggestions-search-box-form",inputRef:Y}))),ve?o().createElement(Et,{searchButtonLabel:A,onFocus:O}):o().createElement(ie,{id:f,parentRef:G,useModalSuggestions:K,isSuggestionsShown:me&&!pe,onSuggestionsFooterClick:F,query:U,scrollIntoRef:le,suggestions:ce,translations:H},o().createElement(ft,t()({},fe,{dataTestId:"search-box-form",expandedDesktopSuggestions:ee,inputRef:J,onBlur:e=>{null==I||I(e),Q(!1)},onFocus:e=>{null==O||O(e),Q(!0),te()}}))))};const Ct=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var wt;const xt={SearchBox:{component:o().forwardRef(St),controller:(wt=e=>{let{mapperProps:t,controllerUtils:n,stateValues:o}=e;const{compId:a,isMobileView:r,...l}=t,{isScrollingBlocked:i,setSiteScrollingBlocked:s,enableCyclicTabbing:u,disableCyclicTabbing:c,getMenuContainerApiByChildId:d,scopedClassName:m}=o,p={...l,closeSuggestions(){n.updateProps({isSuggestionsOpen:!1,closeParentContainer:!1,suggestionsLoading:!1})},clearSuggestions(){n.updateProps({suggestions:null})},changeValue(e){n.updateProps({value:e})}};return r?{...p,onModalSuggestionsOpen:()=>{i||s(!0,a),u(a)},onModalSuggestionsClose:function(e){let{closeParentContainer:t=!1}=void 0===e?{}:e;if(i&&s(!1,a),t){const e=null==d?void 0:d(a);null==e||e.close(!0)}c(a)},scopedClassName:m}:p},{useComponentProps:(e,t,n)=>{const o=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(o=t,o.startsWith("--")?t:Ct(t))]:void 0===n?null:n};var o}),{});e.updateStyles(n)}}))(n);return wt({mapperProps:e,stateValues:t,controllerUtils:o})}})}}}(),l}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[SearchBox].323f95c5.bundle.min.js.map